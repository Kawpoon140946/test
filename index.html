<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Webcam Object Detection</title>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd"></script>
  <script src="script.js" defer></script>
</head>
<body>

<video id="webcam" width="640" height="480" autoplay playsinline></video>
<button id="startButton" disabled>Start</button>
<button id="stopButton" disabled>Stop</button>

<div id="liveView"></div>

<script>
  // รอให้ DOM โหลดเสร็จก่อนเชื่อมปุ่มกับฟังก์ชัน
  document.addEventListener('DOMContentLoaded', () => {
    const startButton = document.getElementById('startButton');
    const stopButton = document.getElementById('stopButton');

    // เปิดใช้งานปุ่มเมื่อโมเดลโหลดเสร็จ
    init().then(() => {
      startButton.disabled = false;
    });

    startButton.addEventListener('click', startWebcam);
    stopButton.addEventListener('click', stopWebcam);
  });
</script>

</body>
</html>
